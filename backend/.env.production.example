# Arbiter AI Backend â€” Production Environment Template
#
# Purpose:
# - Live deployment with strict production settings

APP_MODE=production
APP_ENV=production
LOG_LEVEL=INFO

# CORS + canonical app origin
ALLOWED_ORIGINS=https://arbiter-ai.com,https://www.arbiter-ai.com
APP_BASE_URL=https://arbiter-ai.com

# AWS ALB/ECS typically sets one trusted proxy hop.
TRUSTED_PROXY_HOPS=1

# Infrastructure
DATABASE_URL=postgresql+asyncpg://arbiter:<PASSWORD>@<PROD_RDS_ENDPOINT>:5432/arbiter
REDIS_URL=redis://<PROD_ELASTICACHE_ENDPOINT>:6379/0

# Auth
# Must match frontend AUTH_SECRET
NEXTAUTH_SECRET=<GENERATE_A_STRONG_SECRET>

# Billing (Stripe live mode)
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PRICE_ID=price_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Provider defaults (Bedrock + pgvector + FlashRank)
LLM_PROVIDER=bedrock
EMBEDDING_PROVIDER=bedrock
VECTOR_STORE_PROVIDER=pgvector
RERANKER_PROVIDER=flashrank
PARSER_PROVIDER=docling

# AWS Bedrock
AWS_REGION=us-east-1
BEDROCK_LLM_MODEL_ID=anthropic.claude-3-5-sonnet-20240620-v1:0
BEDROCK_EMBED_MODEL_ID=amazon.titan-embed-text-v2:0

# Periodic catalog/rules sync (Celery Beat)
CATALOG_SYNC_ENABLED=true
CATALOG_SYNC_CRON=15 */6 * * *
CATALOG_RANKED_GAME_LIMIT=1000
OPEN_RULES_SYNC_ENABLED=true
OPEN_RULES_SYNC_CRON=45 4 * * *
OPEN_RULES_MAX_DOCUMENTS=20
OPEN_RULES_ALLOWED_LICENSES=creative commons,open gaming license,orc
OPEN_RULES_FORCE_REINDEX=false
