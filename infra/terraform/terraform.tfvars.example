aws_region     = "us-east-1"
environment    = "production"
project_name   = "arbiter-ai"
app_mode       = "production"
app_env        = "production"
app_base_url   = "https://arbiter-ai.com"
allowed_origins = "https://arbiter-ai.com,https://www.arbiter-ai.com"
alb_certificate_arn = "arn:aws:acm:us-east-1:123456789012:certificate/00000000-0000-0000-0000-000000000000"
trusted_proxy_hops = 1
frontend_nextauth_url = "https://arbiter-ai.com"
next_public_api_url   = "/api/v1"
email_from            = "noreply@getquuie.com"
email_from_name       = "Arbiter AI"
email_provider        = "ses"
inject_optional_sandbox_secrets = false
sandbox_email_bypass_enabled = true

# Deploy-mode defaults (recommended for restricted CI roles):
# Reuse pre-existing infra instead of creating privileged foundation resources.
create_networking            = false
create_github_actions_iam    = false
create_ecs_task_roles        = false
manage_ecs_task_role_policies = false
create_cloudwatch_log_groups = false
create_efs_resources         = false
create_data_services         = false
enable_shared_uploads        = false

# Optional explicit IDs (leave blank to auto-discover by tag/name where supported).
existing_vpc_id              = ""
existing_public_subnet_ids   = []
existing_private_subnet_ids  = []
existing_ecs_task_execution_role_arn = ""
existing_ecs_task_role_arn           = ""
existing_ecs_task_execution_role_name = "arbiter-ai-ecs-task-execution"
existing_ecs_task_role_name           = "arbiter-ai-ecs-task"
existing_efs_file_system_id   = ""
existing_efs_access_point_id  = ""

backend_image_tag  = "latest"
frontend_image_tag = "latest"

backend_cpu    = 512
backend_memory = 1024
frontend_cpu   = 256
frontend_memory = 512
frontend_node_options = "--max-old-space-size=384"
worker_cpu     = 512
worker_memory  = 1024
beat_cpu       = 256
beat_memory    = 512

backend_desired_count  = 2
frontend_desired_count = 2
worker_desired_count   = 1
beat_desired_count     = 1
uploads_dir            = "/tmp/arbiter_uploads"

# Required: ARN of the Secrets Manager secret containing all app env vars
secrets_manager_arn = "arn:aws:secretsmanager:us-east-1:123456789012:secret:arbiter-ai-prod-AbCdEf"

ses_domain = "arbiter-ai.com"

# Secret contract reminder (JSON keys):
# - Backend: DATABASE_URL (asyncpg), REDIS_URL, NEXTAUTH_SECRET, STRIPE_*
# - Frontend: FRONTEND_DATABASE_URL (postgresql://)
# - Frontend email (provider-specific, optional in sandbox): EMAIL_SERVER for SES or BREVO_API_KEY for Brevo

# RDS PostgreSQL (db.t4g.micro + 20 GB = free-tier eligible)
# Set create_data_services=true if Terraform should provision DB/Redis.
db_instance_class    = "db.t4g.micro"
db_allocated_storage = 20
db_name              = "arbiter"
db_username          = "arbiter"
db_password          = "CHANGE_ME_TO_A_STRONG_PASSWORD"

# ElastiCache Redis (cache.t4g.micro = free-tier eligible)
redis_node_type = "cache.t4g.micro"
